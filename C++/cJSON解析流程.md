# cJSON解析流程

cJSON内部是通过链表将各部分串联起来，将特定格式的字符串解析成链表样式的内容。cJSON解析从`cJSON_Parse(const char *value)`开始，他传入一串字符串，最后返回一个`cJSON`类型根节点的指针。`cJSON`类的具体内容如下：

```c
typedef struct cJSON
{
    struct cJSON *next, *prev; //指向数组/对象串联的下一个或者上一个数组对象。
    struct cJSON *child; //数组或者对象所包含的内容指向。
    int type; //当前所指向的类型
    char *valuestring; /* T如果当前项目是string类型 type==cJSON_String */
    int64 valueint; /* 如果当前类型是整型，type==cJSON_Number */
    double valuedouble; /* 如果当前类型是浮点型, if type==cJSON_Number */
    int sign;   //valueint的符号，带符号或者无符号

    char *string; //当前项目的名称。
} cJSON;
```

`cJSON`共包含如下几种类型：

```c
#define cJSON_False 0
#define cJSON_True 1
#define cJSON_NULL 2
#define cJSON_Int 3
#define cJSON_Double 4
#define cJSON_String 5
#define cJSON_Array 6
#define cJSON_Object 7
```

以一个例子来分析cJSON的解析流程：

cJSON需要解析的字符串如下：

```json
{"PID":{"kp":8.8643457456402682E-6,"ki":0.00014033133474657483,"kd":9.5253089256842563E-8,"Ts":0.001},"lowPass":{"order":3,"num":[0.09376958315175897,0.271705482167685,0.050144468551233112],"den":[1,-0.87266152859201385,0.28828106246269081]},"model":{"order":19,"num":[117.95984315959129,870.90854793658877,2729.6526153585833,4541.3898061140844,4043.1889475407093,1709.7749978794966,693.92805943724727,1357.2523275202793,1292.532415249502,386.47014916356159,32.593334908054437,165.30766093591382,653.44888973090622,1561.5623065037782,1613.2849469772275,285.61898265954005,-737.591818512837,-568.975108855764,-129.68756399150533],"den":[1,0.16152207744042557,-1.3509771294701585,-1.4546896690709707,1.6427697293139909,0.70812298936963958,-0.88798300857487134,-0.78465240312646534,1.2945545553688675,-0.34471360742981882,-0.19916603578337003,0.51688988741108255,0.40948801035011928,-1.1982813203620855,-0.25196761958473846,0.61835688323730154,0.40211950207501984,-0.21228339205594282,-0.069109449108024509]}}
```

里面包含字符串，整型，浮点型和数组。

程序从`cJSON_Parse()`开始执行，进去后首先先调用``

